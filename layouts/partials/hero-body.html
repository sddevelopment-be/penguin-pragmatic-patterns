{{- $hero       := .Site.Params.hero }}
{{- $title      := index $hero "title" }}
{{- $subtitle   := index $hero "subtitle" }}
{{- $buttonText := index $hero "buttontext" }}
{{- $buttonLink := index $hero "buttonlink" }}
{{- $image      := index $hero "image" }}

{{- $imageFull := "" }}
{{- $imageMobile := "" }}

{{ if and (not (hasSuffix $image ".gif")) (not (hasSuffix $image ".svg")) }}
    {{- $imageFull = printf "images/%s.webp" $image | relURL }}
    {{- $imageMobile = printf "images/%s-medium.webp" $image | relURL }}
{{ else }}
    {{- $imageFull = printf "images/%s" $image | relURL }}
    {{- $imageMobile = $imageFull }}
{{ end }}

<div class="hero-body">
    <div class="container">
        <div class="columns is-vcentered">
            <div class="column is-4 is-offset-1">
                <figure class="image is-4by4">
                    <picture>
                        <source media="(max-width: 600px)" srcset="{{ $imageMobile}}" />
                        <source media="(min-width: 800px)" srcset="{{ $imageFull }}" />
                        <img src="{{ $imageFull }}" alt="An image of a penguin using a laptop" loading="lazy" />
                    </picture>
                </figure>
            </div>
            <div class="column is-6 is-offset-1 landing-caption">
                <h1 class="title is-1 is-bold is-spaced">
                    {{ $title }}
                </h1>
                {{ with $subtitle }}
                <h2 class="subtitle is-5 is-muted">
                    {{ . }}
                </h2>
                {{ end }}
                <p>
                    <a class="button cta rounded primary-btn raised" href="{{ $buttonLink }}">
                        {{ $buttonText }}
                    </a>
                </p>
            </div>

        </div>
    </div>
</div>